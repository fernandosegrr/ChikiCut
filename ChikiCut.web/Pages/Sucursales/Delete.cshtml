@page
@model ChikiCut.web.Pages.Sucursales.DeleteModel
@using ChikiCut.web.Extensions
@{
    ViewData["Title"] = "Eliminar sucursal";
}

<h1>Eliminar</h1>

<h3>¿Está seguro de que desea eliminar esta sucursal?</h3>
<div>
    <h4>Sucursal</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.Code)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.Code)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.Name)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.Name)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.RazonSocial)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.RazonSocial)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.Rfc)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.Rfc)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.Phone)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.Phone)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.Email)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.Email)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.AddressLine1)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.AddressLine1)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.AddressLine2)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.AddressLine2)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.City)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.City)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.State)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.State)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.PostalCode)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.PostalCode)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.Country)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Sucursal.Country)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.OpeningHours)
        </dt>
        <dd class="col-sm-10">
            @Html.Raw(Model.Sucursal.GetFormattedOpeningHours())
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.IsActive)
        </dt>
        <dd class="col-sm-10">
            <span class="badge @(Model.Sucursal.IsActive ? "bg-success" : "bg-danger")">
                @(Model.Sucursal.IsActive ? "Activa" : "Inactiva")
            </span>
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.CreatedAt)
        </dt>
        <dd class="col-sm-10">
            @Model.Sucursal.CreatedAt.ToString("dd/MM/yyyy HH:mm")
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Sucursal.UpdatedAt)
        </dt>
        <dd class="col-sm-10">
            @if (Model.Sucursal.UpdatedAt.HasValue)
            {
                @Model.Sucursal.UpdatedAt.Value.ToString("dd/MM/yyyy HH:mm")
            }
            else
            {
                <em>No actualizada</em>
            }
        </dd>
    </dl>
    
    <div class="alert alert-warning" role="alert">
        <strong>⚠️ Advertencia:</strong> Esta acción no se puede deshacer. La sucursal será eliminada permanentemente del sistema.
    </div>
    
    <form method="post">
        <input type="hidden" asp-for="Sucursal.Id" />
        <input type="submit" value="Eliminar Definitivamente" class="btn btn-danger" 
               onclick="return confirm('⚠️ CONFIRMACIÓN FINAL\n\n¿Está COMPLETAMENTE SEGURO de que desea eliminar la sucursal \"@Html.Raw(Model.Sucursal.Name?.Replace("\"", "\\\""))\" (Código: @Model.Sucursal.Code)?\n\nEsta acción NO SE PUEDE DESHACER.\n\n✓ Haga clic en Aceptar para ELIMINAR PERMANENTEMENTE\n✗ Haga clic en Cancelar para conservar la sucursal');" />
        <a asp-page="./Index" class="btn btn-secondary ms-2">Cancelar y Regresar</a>
    </form>
</div>
